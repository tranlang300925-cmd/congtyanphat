<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Admin - Quotes</title>
    <style>
      body {
        font-family: Arial;
        padding: 16px;
      }
      input,
      button {
        padding: 10px;
        margin: 6px 0;
        width: 360px;
        max-width: 100%;
      }
      pre {
        background: #111;
        color: #0f0;
        padding: 12px;
        overflow: auto;
      }
    </style>
  </head>
  <body>
    <h2>Admin - Danh sách báo giá</h2>
    <input id="key" placeholder="Nhập ADMIN_KEY (vd: anphat123)" />
    <button id="load">Tải dữ liệu</button>
    <pre id="out">Chưa tải</pre>

    <script>
      document.getElementById("load").onclick = async () => {
        const key = document.getElementById("key").value.trim();
        const API =
          location.hostname === "127.0.0.1" || location.hostname === "localhost"
            ? "http://127.0.0.1:3001"
            : "https://anphat-backend.onrender.com";

        const res = await fetch(API + "/api/quotes", {
          headers: { "x-admin-key": key },
        });
        const data = await res.json().catch(() => ({}));
        document.getElementById("out").textContent = JSON.stringify(
          data,
          null,
          2
        );
      };
    </script>
  </body>
</html>
